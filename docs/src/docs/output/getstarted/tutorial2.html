<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Tutorial</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">
    <meta name="generator" content="JBake">

    <!-- Le styles -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/asciidoctor.css" rel="stylesheet">
    <link href="../css/base.css" rel="stylesheet">
    <link href="../css/prettify.css" rel="stylesheet">
      <style>
      @media only screen and (min-width:768px){
          #toctitle{font-size:1.375em}
          #toc.toc{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto; padding-top: 60px;}
          #toc.toc #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
          #toc.toc>ul{font-size:.9em;margin-bottom:0}
          #toc.toc ul ul{margin-left:0;padding-left:1em}
          #toc.toc ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
      }
      @media only screen and (min-width:1280px){
          body.toc2{padding-left:20em;padding-right:0}
          #toc.toc{width:20em; padding-top: 60px;}
          #toc.toc #toctitle{font-size:1.375em}
          #toc.toc>ul{font-size:.95em}
          #toc.toc ul ul{padding-left:1.25em}
      }
      </style>

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
    <link rel="shortcut icon" href="../favicon.ico">
  </head>

<body onload="prettyPrint()" class="toc2 toc-left" >
<div id="wrap">

	>>>>>>>/c/Users/ralfd/projects/github/docs-as-co.de/docs-jbake/src/docs/src/docs/content

	<!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../">Docs-as-Co.de</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
              
                
                  <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Get Started<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                      
                        <li><a href="../getstarted/getstarted.html">Get Started</a></li>
                      
                        <li><a href="../getstarted/tutorial2.html">Full Example</a></li>
                      
                    </ul>
                  </li>
                
              
                
                  <li><a href="../docs/">Docs</a></li>
                
              
                
                  <li><a href="../examples/">Examples</a></li>
                
              
                
                  <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Further Reading<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                      
                        <li><a href="../furtherreading/blogs.html">Blogs</a></li>
                      
                        <li><a href="../furtherreading/articles.html">Articles</a></li>
                      
                        <li><a href="../furtherreading/talks.html">Talks</a></li>
                      
                        <li><a href="../furtherreading/books.html">Books</a></li>
                      
                    </ul>
                  </li>
                
              
                
                  <li><a href="../news/">News</a></li>
                
              
                
                  <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">About<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                      
                        <li><a href="../about/">About</a></li>
                      
                        <li><a href="../about/contact.html">Contact</a></li>
                      
                        <li><a href="../about/imprint.html">Imprint</a></li>
                      
                        <li><a href="../about/site.html">This Site</a></li>
                      
                    </ul>
                  </li>
                
              
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>

	<div class="container">
	<p><div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#_tutorial_add_doctoolchain_as_submodule">Tutorial: add docToolchain as submodule</a>
<ul class="sectlevel1">
<li><a href="#_motivation">1. Motivation</a></li>
<li><a href="#_what_youll_build">2. What you&#8217;ll build</a></li>
<li><a href="#_what_youll_need">3. What you&#8217;ll need</a></li>
<li><a href="#_create_a_simple_project_to_start_with">4. Create a simple project to start with</a></li>
<li><a href="#_add_doctoolchain_as_submodule">5. add docToolchain as submodule</a></li>
<li><a href="#_setting_up_the_configuration">6. setting up the configuration</a></li>
</ul>
</li>
</ul>
</div>
<h1 id="_tutorial_add_doctoolchain_as_submodule" class="sect0">Tutorial: add docToolchain as submodule</h1>
<div class="exampleblock">
<div class="title">Example 1. Installing with Gradle</div>
<div class="content">
<div class="exampleblock testable-sample">
<div class="content">
<div class="listingblock">
<div class="title">build.gradle.kts</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-kotlin" data-lang="kotlin">plugins {
    id("java-library")
}

repositories {
    maven {
        url = uri("https://repo.gradle.org/gradle/libs")
        // `url "https://repo.gradle.org/gradle/libs"` will do for Groovy scripts
    }
}

dependencies {
    testImplementation("org.gradle:sample-check:0.7.0")
}</code></pre>
</div>
</div>
<div class="listingblock sample-command">
<div class="content">
<pre>$ gradle -q build</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>This short tutorial will show you how to add docToolchain as git submodule.</p>
</div>
<div class="sect1">
<h2 id="_motivation">1. Motivation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Git submodules are references to a certain commit of another git repository.
This makes submodules perfect to include repositories&#8201;&#8212;&#8201;on which your own project depends&#8201;&#8212;&#8201;into your project without copying them.
Since a submodule is a pointer to a certain commit, it is also easy to update this pointer when a newer version is available.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_youll_build">2. What you&#8217;ll build</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this tutorial, you will create a simple gradle project with a single <code>.adoc</code> file.
To this project, you&#8217;ll add docToolchain to generate an HTML file and a PDF.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_youll_need">3. What you&#8217;ll need</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>20(?) minutes</p>
</li>
<li>
<p>a windows or *nix based machine</p>
</li>
<li>
<p>a text editor or IDE</p>
</li>
<li>
<p>jdk 1.8 installed</p>
</li>
<li>
<p>git installed</p>
</li>
<li>
<p>gradle installed</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>the commands needed to go through this tutorial will be bash based.
So if you are on a windows environment, please make sure that you start a bash
or translate the commands for yourself - I am sure this will be a no-brainer.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_a_simple_project_to_start_with">4. Create a simple project to start with</h2>
<div class="sectionbody">
<div class="paragraph">
<p>create a new folder and switch to it</p>
</div>
<div class="literalblock">
<div class="content">
<pre>mkdir tutorial1
cd tutorial1</pre>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 2. create folder</div>
<div class="content">
<div class="paragraph">
<p>[.testable-sample]       (1)</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<div class="title">hello.rb                (2)</div>
<p>[source,ruby]            (3)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>puts "hello, #{ARGV[0]}" (4)</pre>
</div>
</div>
<div class="paragraph">
<p>[.sample-command]        (5)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ ruby hello.rb world    (6)
hello, world             (7)</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>init git (it&#8217;s a new project!) and create a simple folder structure for your documents</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git init
mkdir src
mkdir src/docs</pre>
</div>
</div>
<div class="paragraph">
<p>create a simple <code>.adoc</code> file.
To make it simple, just fetch one from the net via curl</p>
</div>
<div class="literalblock">
<div class="content">
<pre>curl -o src/docs/test.adoc https://gist.githubusercontent.com/mojavelinux/4402636/raw/b8b02adc3c0ddb92df505ba3eb8e625952615b7a/test.asciidoc.txt</pre>
</div>
</div>
<div class="paragraph">
<p>and since this great test document includes another document, let&#8217;s fetch this also</p>
</div>
<div class="literalblock">
<div class="content">
<pre>curl -o src/docs/include.asciidoc.txt https://gist.githubusercontent.com/mojavelinux/4402636/raw/b8b02adc3c0ddb92df505ba3eb8e625952615b7a/include.asciidoc.txt</pre>
</div>
</div>
<div class="paragraph">
<p>The main file <code>./src/docs/test.adoc</code> contains a reference to a stylesheet which is not available, so please open it in your favourite editor (vi?) and remove the reference (<code>:stylesheet: asciidoc.css</code> in line 17)</p>
</div>
<div class="literalblock">
<div class="content">
<pre>vi src/docs/test.adoc</pre>
</div>
</div>
<div class="paragraph">
<p>Since we like Gradle projects, let&#8217;s initialize the toplevel project (<code>tutorial1</code>) as gradle project.
This will make docToolchain a subproject.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>gradle init</pre>
</div>
</div>
<div class="paragraph">
<p>and</p>
</div>
<div class="literalblock">
<div class="content">
<pre>gradle wrapper</pre>
</div>
</div>
<div class="paragraph">
<p>for convenience.
That&#8217;s it!</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">use the wrapper, luke!</div>
<div class="paragraph">
<p>Don&#8217;t have gradle installed?</p>
</div>
<div class="paragraph">
<p>Just first add docToolchain as submodule (next step) and then do</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cd docToolchain
./gradlew -p .. init</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>This will use the gradle wrapper contained in docToolchain to initialize your main project.</pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively use <a href="https://sdkman.io">sdkman</a></p>
</div>
</div>
</div>
<div class="paragraph">
<p>For a real project, you now would add some source code and more build instructions.
To render the document with docToolchain, we only need the document itself.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_add_doctoolchain_as_submodule">5. add docToolchain as submodule</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In order to add docToolchain as submodule, you just have to execute the following command</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git submodule add https://github.com/docToolchain/docToolchain.git</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
use https and not the ssh to clone the submodule. This enables anonymous clones.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To checkout the first release version of docToolchain, switch to the submodule and checkout the tag <code>V1.0.0</code></p>
</div>
<div class="literalblock">
<div class="content">
<pre>cd docToolchain
git checkout tags/V1.0.0
cd ..</pre>
</div>
</div>
<div class="paragraph">
<p>add docToolchain as sub-project to your main project by adding an include to the <code>settings.gradle</code> file</p>
</div>
<div class="literalblock">
<div class="content">
<pre>echo "include 'docToolchain'" &gt;&gt; settings.gradle</pre>
</div>
</div>
<div class="paragraph">
<p>If you now list all tasks of your project, gradle will pick up the docToolchain build file from the subproject,
download all dependencies and output the list of available tasks and fail with an exception:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>./gradlew tasks</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>FAILURE: Build failed with an exception.
* Where:
Script '/home/docToolchain/tutorial1/docToolchain/scripts/AsciiDocBasics.gradle' line: 25
* What went wrong:
A problem occurred evaluating script.
&gt; ./Config.groovy (No such file or directory)</pre>
</div>
</div>
<div class="paragraph">
<p>That&#8217;s correct&#8201;&#8212;&#8201;docToolchain needs a configuration file!</p>
</div>
<div class="paragraph">
<p>Let&#8217;s create an empty one and see how this works:</p>
</div>
<div class="listingblock primary">
<div class="title">bash</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-bash" data-lang="bash">    touch Config.groovy
    ./gradlew tasks</code></pre>
</div>
</div>
<div class="paragraph">
<p>et voilá, you get a list of all available tasks:</p>
</div>
<div class="listingblock primary">
<div class="title">bash</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-bash" data-lang="bash">&gt; Task :tasks

------------------------------------------------------------
All tasks runnable from root project
------------------------------------------------------------

Build tasks
-----------

...

DocToolchain tasks
------------------
convertToDocx - converts file to .docx via pandoc. Needs pandoc installed.
convertToEpub - converts file to .epub via pandoc. Needs pandoc installed.
exportChangeLog - exports the change log from a git subpath
exportContributors - exports all contributors for all asciidoc files
exportEA - exports all diagrams and some texts from EA files
exportExcel - exports all excelsheets to csv and AsciiDoc
exportJiraIssues - exports all jira issues from a given search
exportMarkdown - exports all markdown files to AsciiDoc
exportPPT - exports all slides and some texts from PPT files
exportVisio - exports all diagrams and notes from visio files
generateDeck - use revealJs as asciidoc backend to create a presentation
generateDocbook - use docbook as asciidoc backend
generateHTML - use html5 as asciidoc backend
generatePDF - use pdf as asciidoc backend
publishToConfluence - publishes the HTML rendered output to confluence

Documentation tasks
-------------------
asciidoctor - Converts AsciiDoc files and copies the output files and related resources to the build directory.
groovydoc - Generates Groovydoc API documentation for the main source code.
javadoc - Generates Javadoc API documentation for the main source code.

...

To see all tasks and more detail, run gradle tasks --all

To see more detail about a task, run gradle help --task &lt;task&gt;

BUILD SUCCESSFUL in 40s
1 actionable task: 1 executed
~/tutorial1$</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, you now have already a lot of documentation tasks at hand.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_setting_up_the_configuration">6. setting up the configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>create a simple <code>Config.groovy</code> file to start with:</p>
</div>
<div class="listingblock primary">
<div class="title">Config.groovy</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">outputPath = 'build/docs'

// Path where the docToolchain will search for the input files.
// This path is appended to the docDir property specified in gradle.properties
// or in the command line, and therefore must be relative to it.
inputPath = 'src/docs'

inputFiles = [
              [file: 'test.adoc',            formats: ['html','pdf']],
             ]

taskInputsDirs = ["${inputPath}/images"]

taskInputsFiles = []</code></pre>
</div>
</div>
<div class="paragraph">
<p>And since we want to use our main project to be the source of the documentation, we have to tell docToolchain where it can find it. Since we don&#8217;t want to touch the original docToolchain sources, we override the config via the <code>build.gradle</code> file.
Just add the following lines to your <code>build.gradle</code>.
Since we have an empty main project in this tutorial, you can even overwrite the whole <code>build.gradle</code> with the following lines:</p>
</div>
<div class="paragraph">
<p>(it instructs docToolchain to use the main project as starting point for all other configurations (like the one we just defined in <code>Config.groovy</code>))</p>
</div>
<div class="listingblock primary">
<div class="title">build.gradle</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">//configure docToolchain to use the main project's config
project('docToolchain') {                                   <i class="conum" data-value="1"></i><b>(1)</b>
    if (project.hasProperty('docDir')) {                    <i class="conum" data-value="2"></i><b>(2)</b>
        docDir = '../.'                                     <i class="conum" data-value="4"></i><b>(4)</b>
        mainConfigFile = 'Config.groovy'                    <i class="conum" data-value="5"></i><b>(5)</b>
    } else {
        println "="*80                                      <i class="conum" data-value="3"></i><b>(3)</b>
        println "  please initialize the docToolchain submodule"
        println "  by executing git submodule update -i"
        println "="*80
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>changes the scope to docToolchain as subproject</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>checks if the subproject has been initialized</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>outputs a hint if subproject has not been initialized</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>moves the base folder for docToolchain to the main project folder</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>this enables you to point docToolchain to your own config file</td>
</tr>
</table>
</div>
</div>
</div></p>

	</div>

</div>
<div id="push"></div>
</div>


    <div id="footer">
      <div class="container">
        <p class="muted credit">&copy; 2014 | Mixed with <a href="http://getbootstrap.com/">Bootstrap v3.1.1</a> | Baked with <a href="http://jbake.org">JBake v2.6.4</a></p>
      </div>
    </div>
    
    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../js/jquery-1.11.1.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/prettify.js"></script>
    


</body>
</html>