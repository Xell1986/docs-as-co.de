<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Jira to Sparx EA</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">
    <meta name="generator" content="JBake">

    <!-- Le styles -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/asciidoctor.css" rel="stylesheet">
    <link href="../css/base.css" rel="stylesheet">
    <link href="../css/prettify.css" rel="stylesheet">
      <style>
      @media only screen and (min-width:768px){
          #toctitle{font-size:1.375em}
          #toc.toc{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto; padding-top: 60px;}
          #toc.toc #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
          #toc.toc>ul{font-size:.9em;margin-bottom:0}
          #toc.toc ul ul{margin-left:0;padding-left:1em}
          #toc.toc ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
      }
      @media only screen and (min-width:1280px){
          body.toc2{padding-left:20em;padding-right:0}
          #toc.toc{width:20em; padding-top: 60px;}
          #toc.toc #toctitle{font-size:1.375em}
          #toc.toc>ul{font-size:.95em}
          #toc.toc ul ul{padding-left:1.25em}
      }
      </style>

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
    <link rel="shortcut icon" href="../favicon.ico">
  </head>

<body onload="prettyPrint()" >
<div id="wrap">

	>>>>>>>/c/Users/ralfd/projects/github/docs-as-co.de/docs-jbake/src/docs/src/docs/content

	<!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../">Docs-as-Co.de</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
              
                
                  <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Get Started<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                      
                        <li><a href="../getstarted/getstarted.html">Get Started</a></li>
                      
                        <li><a href="../getstarted/tutorial2.html">Full Example</a></li>
                      
                    </ul>
                  </li>
                
              
                
                  <li><a href="../docs/">Docs</a></li>
                
              
                
                  <li><a href="../examples/">Examples</a></li>
                
              
                
                  <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Further Reading<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                      
                        <li><a href="../furtherreading/blogs.html">Blogs</a></li>
                      
                        <li><a href="../furtherreading/articles.html">Articles</a></li>
                      
                        <li><a href="../furtherreading/talks.html">Talks</a></li>
                      
                        <li><a href="../furtherreading/books.html">Books</a></li>
                      
                    </ul>
                  </li>
                
              
                
                  <li><a href="../news/">News</a></li>
                
              
                
                  <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">About<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                      
                        <li><a href="../about/">About</a></li>
                      
                        <li><a href="../about/contact.html">Contact</a></li>
                      
                        <li><a href="../about/imprint.html">Imprint</a></li>
                      
                        <li><a href="../about/site.html">This Site</a></li>
                      
                    </ul>
                  </li>
                
              
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>

	<div class="container">
	<div class="page-header">
		<h1>Jira to Sparx EA</h1>
	</div>

	<p><em>new java.text.SimpleDateFormat("dd MMMM yyyy", Locale.ENGLISH).format(Sun Nov 27 00:00:00 GMT 2016)</em></p>

	<p><div class="paragraph">
<p>Sparx Enterprise Architect really shines when you use it to model your architecture by creating connections between elements. If you model your requirements, too, EA let&#8217;s you trace your design from the requirement up to the class.</p>
</div>
<div class="paragraph">
<p>Problem is, when you work in an agile project, it is likely that your requirements are kept in an issue tracker like Jira in form of User Stories. So traceability is gone. :-(</p>
</div>
<div class="paragraph">
<p>A solution could be to create a connection between Jira and EA. Sparx provides an <a href="https://marketplace.atlassian.com/plugins/atlassian.confluence.plugins.eaconnector/cloud/overview">EA Connector for Jira</a>, but since I am a techie, my "not invented here"-syndrome kicks in&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>DocToolchain already contains a task which fetches certain jira issues (<a href="https://rdmueller.github.io/Jira/">Living Documents for Agile Projects</a>) and a task which exports useful information from EA (<a href="https://rdmueller.github.io/sparx-ea/">Did you ever wish you had better Diagrams?</a>). Let&#8217;s update these tasks the following way:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>the EA script currently searches for a {adoc:&lt;filename&gt;} - tag in comments. Let&#8217;s add a {jira:&lt;search&gt;} tag for diagrams</p>
</li>
<li>
<p>whenever such a tag is found, start a groovy script which exports the jira issues defined by &lt;search&gt; to a file</p>
</li>
<li>
<p>the EA script now has to pick up the file and create requirements-elements as diagram sub-elements and sync them with already existing ones</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This would allow you to create a traceability between your architecture and the User Stories stored in Jira.</p>
</div>
<div class="paragraph">
<p>Step 1 is easy - the task already does it for the {adoc:} - tag. I just added some code which looks for a tag like <code>{jira:&lt;jql&gt;}</code> at the start of diagram notes.</p>
</div>
<div class="paragraph">
<p>Step 2 is a bit harder. Since there is already groovy code to connect to jira, I decided to integrate groovy into the Visual Basic Script. Not an easy task if you know nearly nothing about VBS, but [Microsoft Technet to the rescue](<a href="https://technet.microsoft.com/en-us/library/ee156605.aspx)!" class="bare">https://technet.microsoft.com/en-us/library/ee156605.aspx)!</a> The following code executes a groovy script vrom within VBS and returns the output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-visualbasic" data-lang="visualbasic">Set objShell = CreateObject("WScript.Shell")
objShell.CurrentDirectory = fso.GetFolder("./scripts")
Set objExecObject = objShell.Exec ("cmd /K  groovy exportJira.groovy """ &amp; strSearch &amp;""" &amp; exit")
strReturn = ""
Do While Not objExecObject.StdOut.AtEndOfStream
    strReturn = strReturn &amp; vbCR &amp; objExecObject.StdOut.ReadLine()
Loop
Set objShell = Nothing</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>exportJira.groovy</code> script takes the <code>&lt;jql&gt;</code> string from the tag found in the diagram node and starts a jira search with it. All found elements are handed over to the <code>.vbs</code> script to be processed in step 3:</p>
</div>
<div class="paragraph">
<p>Step 3 should again be very straight forward - since the VBS script gets each single line outputted by the groovy script, elements can easily be synced one by one. But I&#8217;ll do it only one way.</p>
</div>
<div class="paragraph">
<p>The code to create a new element can be found in the book <a href="https://leanpub.com/ScriptingEA">Scripting Enterprise Architect</a> by Thomas Kilian.</p>
</div>
<div class="paragraph">
<p>As a result, you can now add a tag like <code>{jira:project=DT}</code> and docToolchain will automatically fetch all jira issues in the project with the key <code>DT</code>, and create a requirement element for each jira issue within the given diagram. This enables you to connect these jira issues to other elements in your architecture model and thus create a traceability within your model up to jira issues or user stories.</p>
</div>
<div class="paragraph">
<p>The script is not perfect yet, but with some tricks it is already useful. Issues with an already existing name will only be updated with the current details.</p>
</div>
<div class="paragraph">
<p>Whenever the script created new issues, it makes sense to mark them with a different color as soon as you have connected them to your model. This will let you easily scan for new issues (= standard color) after the next sync.</p>
</div>
<div class="paragraph">
<p>As always, the updated code is already on github.</p>
</div></p>

</div>

</div>
<div id="push"></div>
</div>


    <div id="footer">
      <div class="container">
        <p class="muted credit">&copy; 2014 | Mixed with <a href="http://getbootstrap.com/">Bootstrap v3.1.1</a> | Baked with <a href="http://jbake.org">JBake v2.6.4</a></p>
      </div>
    </div>
    
    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../js/jquery-1.11.1.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/prettify.js"></script>
    


</body>
</html>